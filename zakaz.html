<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeedIt — Оформление заказа</title>
    <link rel="stylesheet" href="zakaz.css">
    <link rel="icon" type="image/png" sizes="512x512" href="Needlt.jpeg">
</head>
<body>

<div class="skele">

    <h1>Оформление заказа</h1>
    <p class="subtitle">Заполните форму — мы свяжемся с вами в течение 10 минут</p>

    <form action="https://api.web3forms.com/submit" method="POST">

        <!-- КЛЮЧ WEB3FORMS -->
        <input type="hidden" name="access_key" value="87c687d6-5082-4a50-a0fe-c6801240e78f">

        <!-- ДАННЫЕ ПОЛЬЗОВАТЕЛЯ -->
        <div class="section">
            <h2>Ваши данные</h2>

            <input type="text" name="name" placeholder="Ваше имя" required>

            <select id="contact-method" name="contact_method" required>
                <option value="">Выберите способ связи</option>
                <option value="Telegram">Telegram</option>
                <option value="Email">Email</option>
                <option value="WhatsApp">WhatsApp</option>
                <option value="Instagram">Instagram</option>
                <option value="Discord">Discord</option>
            </select>

            <input type="text"
                   id="contact-input"
                   name="contact_value"
                   placeholder=""
                   style="display:none;"
                   required>

            <input type="text" name="country" placeholder="Страна">
        </div>

        <!-- ИНФОРМАЦИЯ О ТОВАРЕ -->
        <div class="section">
            <h2>Информация о товаре</h2>
            <input type="text" name="product_name" placeholder="Название товара" required>
            <input type="text" name="product_description" placeholder="Описание товара(ссылка если есть)">
        </div>

        <!-- ФОТО -->

        <div class="preview"></div>

        <!-- ОПЛАТА -->
        <div class="section">
            <h2>Оплата</h2>
            <input type="text" name="payment" placeholder="Способ оплаты(название банка)">
        </div>

        <button class="btn" type="submit">Отправить заявку</button>
    </form>

    <p class="note">Отправляя заявку, вы соглашаетесь на обработку данных. Подробно о товаре можете с самим менеджером обсудить.</p>
</div>

<script>

/* ДИНАМИЧЕСКИЙ INPUT */
const select = document.getElementById('contact-method');
const contactInput = document.getElementById('contact-input');

select.addEventListener('change', () => {
    if (!select.value) {
        contactInput.style.display = 'none';
        contactInput.required = false;
    } else {
        contactInput.style.display = 'block';
        contactInput.placeholder = 'Введите ' + select.value;
        contactInput.required = true;
    }
});
</script>

</body>
</html>

